(function(){!function(a){var b,c;return b={width:!1,height:!1,wrap:".bm-wrap",ul:".bm-ul",li:".bm-li",index:0,zIndex:0,type:"slide",time:360,margin:60,cssSupport:!0,touchSupport:!0,navigation:{active:!0,nextClass:"bm-next",prevClass:"bm-prev"},pagination:{active:!0,wrapClass:"bm-jump-wrap",jumpClass:"bm-jump"},callback:{complete:function(){},before:function(a){},after:function(a){}}},c=function(){var a,b,c,d,e,f;for(d=(document.body||document.documentElement).style,e="transition",f=["Webkit","Moz","Khtml","O","ms"],e=e.charAt(0).toUpperCase()+e.substr(1),a=b=0,c=f.length;c>=0?c>b:b>c;a=c>=0?++b:--b)if("string"==typeof d[f[a]+e])return f[a];return!1},a.extend(a.easing,{easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}}),a.fn.boardmake=function(d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(null==d&&(d={}),!(1>this.size())){if(e=!1,u=a.extend({},b,d),m=this.find(u.wrap),l=this.find(u.ul),f=this.find(u.li),0===m.size())return console.error("no wrap, boardmaker aborted ("+u.wrap+")");if(0===l.size())return console.error("no ul, boardmaker aborted ("+u.ul+")");if(this.data("bm:current",u.index),this.data("bm:prefix",c()),"slide"!==(w=u.type)&&"none"!==w&&(u.type="none"),n=parseInt(this.css("zIndex"),10),isNaN(n)&&(n=u.zIndex),"relative"!==(x=this.css("position"))&&"absolute"!==x&&"fixed"!==x&&(this.css("position","relative"),this.css("zIndex",n)),"relative"!==(y=m.css("position"))&&"absolute"!==y&&"fixed"!==y&&(m.css("position","relative"),m.css("zIndex",n+1)),m.css("overflow","hidden"),f.each(function(b,c){return a(c).attr("data-bm-index",b),b!==u.start?a(c).hide():void 0}),this.data("bm:length",i=f.size()),i<=u.index&&(u.index=i-1,this.data("bm:current",i-1)),r=u.width,q=u.height,p=function(b){return function(c,d){return m.css("width",r=c),m.css("height",q=d),f.each(function(b,e){return a(e).show().css({margin:"0 "+u.margin+" 0 0",padding:0,position:"absolute",top:0,left:(c+u.margin)*b,bottom:0,width:c,height:d})}),l.css({position:"absolute",top:0,left:0,right:0,bottom:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:-1*(c+u.margin)*b.data("bm:current"),padding:0,width:(c+u.margin)*(i+1),zindex:n+2}),2>i&&(g.hide(),h.hide()),2>i?k.hide():void 0}}(this),g=null,h=null,u.navigation.active&&(g=this.find("."+u.navigation.nextClass),h=this.find("."+u.navigation.prevClass),g.size()||this.append(g=a("<div>").addClass(u.navigation.nextClass)),h.size()||this.append(h=a("<div>").addClass(u.navigation.prevClass)),g.on("click",function(a){return function(){return a.trigger("bm:next")}}(this)),h.on("click",function(a){return function(){return a.trigger("bm:prev")}}(this)),g.css("zIndex",n+3),h.css("zIndex",n+3)),u.pagination.active){if(k=this.find("."+u.pagination.wrapClass),j=this.find("."+u.pagination.jumpClass),k.size()||this.append(k=a("<div>").addClass(u.pagination.wrapClass)),!j.size()){for(s=t=0,z=i;z>=0?z>t:t>z;s=z>=0?++t:--t)k.append(a("<div>")).addClass(u.pagination.jumpClass).attr("data-bm-index",s).append(a("<a>"));j=this.find("."+u.pagination.jumpClass)}j.on("click",function(b){return function(c){var d;return d=parseInt(a(c.currentTarget).attr("data-bm-index"),10),b.trigger("bm:jump",{page:d})}}(this)),k.css("zIndex",n+3)}return p(u.width,u.height),this.css({display:"block",visibility:"visible"}),o=function(a){return function(){var b,c,d;return u.cssSupport&&(c=a.data("bm:prefix"))?(d=c+"Transition",b="cubic-bezier(0.215, 0.610, 0.355, 1.000)",l.css(d,"margin-left "+u.time/1e3+"s "+b)):void 0}}(this),A=function(a){return function(){var b,c;return u.cssSupport&&(b=a.data("bm:prefix"))?(c=b+"Transition",l.css(c,"")):void 0}}(this),this.on("bm:last",function(a){return function(b,c){return a.trigger("bm:jump",{page:i-1})}}(this)),this.on("bm:first",function(a){return function(b,c){return a.trigger("bm:jump",{page:0})}}(this)),this.on("bm:next",function(a){return function(b,c){var d;return d=a.data("bm:current")+1,d>i-1&&(d=0),a.trigger("bm:jump",{page:d})}}(this)),this.on("bm:prev",function(a){return function(b,c){var d;return d=a.data("bm:current")-1,0>d&&(d=i-1),a.trigger("bm:jump",{page:d})}}(this)),this.on("bm:jump",function(b){return function(c,d){var g,h,i,k,m,n,o,p,q,s;for(d.callback||(d.callback=function(){}),p=d.page,s=b.data("bm:current"),o=p,null===s&&(s=0),h=f.filter("[data-bm-index="+s+"]"),g=f.filter("[data-bm-index="+o+"]"),j.find("a").removeClass("active"),m=0,n=j.length;n>m;m++)k=j[m],k=a(k),o===parseInt(k.attr("data-bm-index"),10)&&k.find("a").addClass("active");switch(e&&u.callback.before(o),u.type){case"slide":u.cssSupport&&(q=b.data("bm:prefix"))?(i=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],l.off(i.join(" ")),l.on(i.join(" "),function(){return e?(u.callback.after(o),d.callback()):void 0}),l.css({marginLeft:-1*(r+u.margin)*o}),e||window.setTimeout(function(){return d.callback()},u.time)):l.stop().animate({marginLeft:-1*(r+u.margin)*o},{duration:u.time,easing:"easeOutCubic",complete:function(){return e&&u.callback.after(o),d.callback()}});break;case"none":l.stop().css({marginLeft:-1*(r+u.margin)*o}),e&&u.callback.after(o),d.callback()}return b.data("bm:current",o)}}(this)),u.touchSupport&&(this.on("touchstart",function(a){return function(b){var c;return b.stopPropagation(),c=b.originalEvent.touches[0],a.data("bm:touchstartx",c.pageX),a.data("bm:touchstarty",c.pageY),a.data("bm:touchstart",parseInt(l.css("marginLeft"),10)),A()}}(this)),this.on("touchmove",function(a){return function(b){var c,d,e,f,g;return b.stopPropagation(),f=b.originalEvent.touches[0],d=Math.abs(f.pageX-a.data("bm:touchstartx")),e=Math.abs(f.pageY-a.data("bm:touchstarty")),a.data("bm:scrolling",c=e>d),c?void 0:(g=f.pageX-a.data("bm:touchstartx"),l.css("marginLeft",a.data("bm:touchstart")+g))}}(this)),this.on("touchend",function(a){return function(b){var c,d;return b.stopPropagation(),d=b.originalEvent.touches[0],d||(d=b.originalEvent.changedTouches[0]),o(),c=d.pageX-a.data("bm:touchstartx"),r*-.3>c?i-1<a.data("bm:current")?a.trigger("bm:last"):a.trigger("bm:next"):c>.3*r?0<a.data("bm:current")?a.trigger("bm:prev"):a.trigger("bm:first"):a.trigger("bm:jump",{page:a.data("bm:current")})}}(this))),v=u.width,this.on("bm:update",function(a){return function(b){var c,d;return d=a.width(),v!==d?(c=d*(u.height/u.width),v=d,p(d,c)):void 0}}(this)),window.setTimeout(function(b){return function(){return b.trigger("bm:update"),b.trigger("bm:jump",{page:b.data("bm:current"),callback:function(){return o(),e=!0,u.callback.complete()}}),a(window).on("resize",function(){return b.trigger("bm:update")})}}(this)),this}}}(jQuery)}).call(this);